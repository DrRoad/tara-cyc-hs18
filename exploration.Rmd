---
title: "Data set exploration"
author: "Javier Castillo-Arnemann"
date: "October 12, 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


##Exploratory data analysis
```{r}
suppressPackageStartupMessages(library(tidyverse))

dataset <- read_tsv("df_MASTERTABLE.txt") %>%
  group_by(SAMPLE) %>%
  mutate(n_samples = n())

n_distinct(dataset$SAMPLE) #total number of samples



#Depth vs region
dataset %>%
  ggplot(aes(GEOREGION, DEPTHM)) +
  geom_point() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  scale_y_reverse()

#Combine LAT LON
dataset$LOC <- paste(dataset$LAT, dataset$LONG, sep = ", ")

#Find how many samples are in every location
dataset %>% 
  group_by(LOC) %>%
  summarize(samples_per_loc = n_distinct(SAMPLE))


```

